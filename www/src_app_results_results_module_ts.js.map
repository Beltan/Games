{"version":3,"file":"src_app_results_results_module_ts.js","mappings":"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","sources":["./src/app/results/results-routing.module.ts","./src/app/results/results.module.ts","./src/app/results/results.page.ts","./src/app/results/results.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ResultsPage } from './results.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ResultsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ResultsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ResultsPageRoutingModule } from './results-routing.module';\nimport { ResultsPage } from './results.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ResultsPageRoutingModule\n  ],\n  declarations: [ResultsPage]\n})\nexport class ResultsPageModule {}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Globals } from '../globals';\nimport { StorageService } from '../storage';\n\n@Component({\n  selector: 'app-results',\n  templateUrl: './results.page.html',\n  styleUrls: ['./results.page.scss'],\n})\nexport class ResultsPage {\n  globals: Globals;\n\n  allowedGames;\n  filteredGames;\n  currentFilter;\n  sortDirection;\n  sortKey;\n  filteringByOwned;\n  filteringByIgnored;\n  extraPlayers;\n  baseScores;\n\n  constructor(\n    private router: Router,\n    private storage: StorageService,\n    globals: Globals\n  ) {\n    this.globals = globals;\n  }\n\n  async ionViewWillEnter() {\n    const savedId = await this.storage.get('id');\n\n    if (!savedId) {\n      this.router.navigateByUrl('/welcome');\n    } else if (this.globals.games.length === 0) {\n      this.router.navigateByUrl('/home');\n    }\n\n    this.allowedGames = [];\n    this.filteredGames = [];\n    this.currentFilter = '';\n    this.sortDirection = 1;\n    this.filteringByOwned = false;\n    this.filteringByIgnored = false;\n    this.extraPlayers = this.globals.totalPlayers - this.globals.players.length;\n    this.baseScores = true;\n\n    for (let i = 0; i < this.globals.games.length; i++) {\n      if (!this.globals.maxPlayers[i] || !this.globals.minPlayers[i]) {\n        continue;\n      }\n      if (\n        this.globals.maxPlayers[i] < this.globals.totalPlayers ||\n        this.globals.minPlayers[i] > this.globals.totalPlayers\n      ) {\n        continue;\n      }\n\n      let baseMax = -1;\n      let relativeMax = -1;\n      let baseMin = 11;\n      let relativeMin = 99999999;\n      let baseAvg = 0;\n      let relativeAvg = 0;\n      let ignore = 0;\n\n      for (const player of this.globals.players) {\n        const playerIndex = this.globals.allPlayers.indexOf(player);\n\n        const currentBaseScore = this.globals.baseScores[i][playerIndex];\n        const currentRelativeScore =\n          this.globals.relativeScores[i][playerIndex];\n\n        if (currentBaseScore === -1) {\n          ignore++;\n          continue;\n        }\n\n        baseAvg += currentBaseScore;\n        relativeAvg += currentRelativeScore;\n\n        if (currentBaseScore < baseMin) {\n          baseMin = currentBaseScore;\n        }\n        if (currentBaseScore > baseMax) {\n          baseMax = currentBaseScore;\n        }\n\n        if (currentRelativeScore < relativeMin) {\n          relativeMin = currentRelativeScore;\n        }\n        if (currentRelativeScore > relativeMax) {\n          relativeMax = currentRelativeScore;\n        }\n      }\n\n      const knownPlayers = this.globals.players.length - ignore;\n      if (knownPlayers > 0) {\n        baseAvg = baseAvg / knownPlayers;\n        relativeAvg = relativeAvg / knownPlayers;\n      } else {\n        baseAvg = -1;\n        relativeAvg = -1;\n      }\n\n      let baseSumSquares = 0;\n      let relativeSumSquares = 0;\n      for (const player of this.globals.players) {\n        const playerIndex = this.globals.allPlayers.indexOf(player);\n\n        const currentBaseScore = this.globals.baseScores[i][playerIndex];\n        const currentRelativeScore =\n          this.globals.relativeScores[i][playerIndex];\n\n        if (currentBaseScore === -1) {\n          continue;\n        }\n\n        const baseDiff = baseAvg - currentBaseScore;\n        baseSumSquares += baseDiff * baseDiff;\n\n        const relativeDiff = relativeAvg - currentRelativeScore;\n        relativeSumSquares += relativeDiff * relativeDiff;\n      }\n\n      let baseVariance = -1;\n      let relativeVariance = -1;\n      if (knownPlayers > 0) {\n        baseVariance = baseSumSquares / knownPlayers;\n        relativeVariance = relativeSumSquares / knownPlayers;\n      }\n\n      const game = {\n        name: this.globals.games[i],\n        baseAverage: baseAvg !== -1 ? baseAvg.toFixed(2) : '-',\n        relativeAverage: relativeAvg !== -1 ? relativeAvg.toFixed(2) : '-',\n        baseMaximum: baseMax,\n        relativeMaximum: relativeMax,\n        baseMinimum: baseMin,\n        relativeMinimum: relativeMin,\n        baseVariance: baseVariance !== -1 ? baseVariance.toFixed(2) : '-',\n        relativeVariance:\n          relativeVariance !== -1 ? relativeVariance.toFixed(2) : '-',\n        ignored: (ignore + this.extraPlayers).toFixed(0),\n        owners: this.globals.owners[i],\n      };\n      this.allowedGames.push(game);\n    }\n\n    this.filteredGames = this.allowedGames;\n    this.sortBy('baseAverage');\n  }\n\n  filterDatatable(event) {\n    const filter = event.target.value.toLowerCase();\n    this.searchFilter(filter);\n    this.currentFilter = filter;\n  }\n\n  searchFilter(filter) {\n    if (filter === '') {\n      this.filteredGames = this.allowedGames;\n    } else {\n      this.filteredGames = [];\n\n      for (const game of this.allowedGames) {\n        if (game.name.toLowerCase().indexOf(filter) !== -1) {\n          this.filteredGames.push(game);\n        }\n      }\n    }\n\n    if (this.filteringByOwned) {\n      this.filterByOwned();\n    }\n  }\n\n  toggleScores() {\n    this.baseScores = !this.baseScores;\n    this.reverseSortDirection();\n\n    switch (this.sortKey) {\n      case 'baseAverage':\n        this.sortBy('relativeAverage');\n        break;\n      case 'baseVariance':\n        this.sortBy('relativeVariance');\n        break;\n      case 'relativeAverage':\n        this.sortBy('baseAverage');\n        break;\n      case 'relativeVariance':\n        this.sortBy('baseVariance');\n        break;\n      default:\n        this.reverseSortDirection();\n        break;\n    }\n  }\n\n  reverseSortDirection() {\n    if (this.sortDirection === 0) {\n      this.sortDirection++;\n    } else if (this.sortDirection === 1) {\n      this.sortDirection--;\n    }\n  }\n\n  toggleOwned() {\n    this.filteringByOwned = !this.filteringByOwned;\n    this.filterByOwned();\n  }\n\n  sortBy(key) {\n    this.sortKey = key;\n    this.sort();\n  }\n\n  sort() {\n    if (this.sortDirection === 0) {\n      this.filteredGames = this.filteredGames.sort((a, b) => {\n        const valA = a[this.sortKey];\n        const valB = b[this.sortKey];\n        return valA.localeCompare(valB, 'en', { numeric: true });\n      });\n      this.sortDirection++;\n    } else if (this.sortDirection === 1) {\n      this.filteredGames = this.filteredGames.sort((a, b) => {\n        const valA = a[this.sortKey];\n        const valB = b[this.sortKey];\n        return valB.localeCompare(valA, 'en', { numeric: true });\n      });\n      this.sortDirection--;\n    }\n  }\n\n  filterByOwned() {\n    if (this.filteringByOwned) {\n      this.filteredGames = this.filteredGames.filter((game) => {\n        if (\n          game.owners[0] === 'All' ||\n          this.globals.players.filter((value) => game.owners.includes(value))\n            .length !== 0\n        ) {\n          return game;\n        }\n      });\n    } else {\n      this.searchFilter(this.currentFilter);\n    }\n  }\n}\n","export default \"<ion-content>\\n  <div class=\\\"container\\\">\\n    <div id=\\\"inputs\\\">\\n      <input\\n        type=\\\"text\\\"\\n        placeholder=\\\"Search...\\\"\\n        (keyup)=\\\"filterDatatable($event)\\\"\\n      />\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label\\n          >{{ baseScores ? \\\"Base Scores\\\" : \\\"Relative Scores\\\" }}\\n        </ion-label>\\n        <ion-toggle (ionChange)=\\\"toggleScores()\\\" slot=\\\"start\\\"></ion-toggle>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label>Owned</ion-label>\\n        <ion-checkbox (ionChange)=\\\"toggleOwned()\\\" slot=\\\"start\\\"></ion-checkbox>\\n      </ion-item>\\n    </div>\\n  </div>\\n\\n  <ion-row class=\\\"header-row\\\">\\n    <ion-col size=\\\"4\\\" class=\\\"center-text\\\" (click)=\\\"sortBy('name')\\\">\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n        <ion-label>Name</ion-label>\\n        <ion-icon\\n          name=\\\"arrow-down\\\"\\n          *ngIf=\\\"sortDirection === 0 && sortKey === 'name'\\\"\\n        ></ion-icon>\\n        <ion-icon\\n          name=\\\"arrow-up\\\"\\n          *ngIf=\\\"sortDirection === 1 && sortKey === 'name'\\\"\\n        ></ion-icon>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col size=\\\"2\\\" class=\\\"center-text\\\" (click)=\\\"sortBy('ignored')\\\">\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n        <ion-label>Ign</ion-label>\\n        <ion-icon\\n          name=\\\"arrow-down\\\"\\n          *ngIf=\\\"sortDirection === 0 && sortKey === 'ignored'\\\"\\n        ></ion-icon>\\n        <ion-icon\\n          name=\\\"arrow-up\\\"\\n          *ngIf=\\\"sortDirection === 1 && sortKey === 'ignored'\\\"\\n        ></ion-icon>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col *ngIf=\\\"baseScores\\\" size=\\\"3\\\" class=\\\"center-text\\\" (click)=\\\"sortBy('baseAverage')\\\">\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n        <ion-label>Avg</ion-label>\\n        <ion-icon\\n          name=\\\"arrow-down\\\"\\n          *ngIf=\\\"sortDirection === 0 && sortKey === 'baseAverage'\\\"\\n        ></ion-icon>\\n        <ion-icon\\n          name=\\\"arrow-up\\\"\\n          *ngIf=\\\"sortDirection === 1 && sortKey === 'baseAverage'\\\"\\n        ></ion-icon>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col *ngIf=\\\"baseScores\\\" size=\\\"3\\\" class=\\\"center-text\\\" (click)=\\\"sortBy('baseVariance')\\\">\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n        <ion-label>Var</ion-label>\\n        <ion-icon\\n          name=\\\"arrow-down\\\"\\n          *ngIf=\\\"sortDirection === 0 && sortKey === 'baseVariance'\\\"\\n        ></ion-icon>\\n        <ion-icon\\n          name=\\\"arrow-up\\\"\\n          *ngIf=\\\"sortDirection === 1 && sortKey === 'baseVariance'\\\"\\n        ></ion-icon>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col *ngIf=\\\"!baseScores\\\" size=\\\"3\\\" class=\\\"center-text\\\" (click)=\\\"sortBy('relativeAverage')\\\">\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n        <ion-label>Avg</ion-label>\\n        <ion-icon\\n          name=\\\"arrow-down\\\"\\n          *ngIf=\\\"sortDirection === 0 && sortKey === 'relativeAverage'\\\"\\n        ></ion-icon>\\n        <ion-icon\\n          name=\\\"arrow-up\\\"\\n          *ngIf=\\\"sortDirection === 1 && sortKey === 'relativeAverage'\\\"\\n        ></ion-icon>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col *ngIf=\\\"!baseScores\\\" size=\\\"3\\\" class=\\\"center-text\\\" (click)=\\\"sortBy('relativeVariance')\\\">\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n        <ion-label>Var</ion-label>\\n        <ion-icon\\n          name=\\\"arrow-down\\\"\\n          *ngIf=\\\"sortDirection === 0 && sortKey === 'relativeVariance'\\\"\\n        ></ion-icon>\\n        <ion-icon\\n          name=\\\"arrow-up\\\"\\n          *ngIf=\\\"sortDirection === 1 && sortKey === 'relativeVariance'\\\"\\n        ></ion-icon>\\n      </ion-item>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row *ngFor=\\\"let row of filteredGames; let i = index;\\\" class=\\\"data-row\\\">\\n    <ion-col size=\\\"4\\\"> {{ row.name }} </ion-col>\\n    <ion-col size=\\\"2\\\" class=\\\"center-text\\\"> {{ row.ignored }} </ion-col>\\n    <ion-col size=\\\"3\\\" class=\\\"center-text\\\">\\n      {{ baseScores ? row.baseAverage : row.relativeAverage }}\\n    </ion-col>\\n    <ion-col size=\\\"3\\\" class=\\\"center-text\\\">\\n      {{ baseScores ? row.baseVariance : row.relativeVariance }}\\n    </ion-col>\\n  </ion-row>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}